<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>React基础 | Relsola</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/blog/icon.png">
    <meta name="description" content="Relsola的个人博客">
    
    <link rel="preload" href="/blog/assets/css/0.styles.012201c4.css" as="style"><link rel="preload" href="/blog/assets/js/app.54f561eb.js" as="script"><link rel="preload" href="/blog/assets/js/3.e4d952b8.js" as="script"><link rel="preload" href="/blog/assets/js/2.fb865790.js" as="script"><link rel="preload" href="/blog/assets/js/40.b7d215bd.js" as="script"><link rel="prefetch" href="/blog/assets/js/1.9e27f4a0.js"><link rel="prefetch" href="/blog/assets/js/12.42ed3ae9.js"><link rel="prefetch" href="/blog/assets/js/13.6f8a2f8e.js"><link rel="prefetch" href="/blog/assets/js/14.6ec3e05a.js"><link rel="prefetch" href="/blog/assets/js/15.78876fea.js"><link rel="prefetch" href="/blog/assets/js/16.83cf5b99.js"><link rel="prefetch" href="/blog/assets/js/17.6704d426.js"><link rel="prefetch" href="/blog/assets/js/18.08acafcc.js"><link rel="prefetch" href="/blog/assets/js/19.c6ed29cb.js"><link rel="prefetch" href="/blog/assets/js/20.2acd9858.js"><link rel="prefetch" href="/blog/assets/js/21.e36fa007.js"><link rel="prefetch" href="/blog/assets/js/22.da67b0b3.js"><link rel="prefetch" href="/blog/assets/js/23.46a512ac.js"><link rel="prefetch" href="/blog/assets/js/24.563a8b7c.js"><link rel="prefetch" href="/blog/assets/js/25.a4a7bdb5.js"><link rel="prefetch" href="/blog/assets/js/26.0b74d462.js"><link rel="prefetch" href="/blog/assets/js/27.e0f482cb.js"><link rel="prefetch" href="/blog/assets/js/28.e7648781.js"><link rel="prefetch" href="/blog/assets/js/29.d0d17b8a.js"><link rel="prefetch" href="/blog/assets/js/30.bc90b8d3.js"><link rel="prefetch" href="/blog/assets/js/31.ff2d25e5.js"><link rel="prefetch" href="/blog/assets/js/32.4ca0cceb.js"><link rel="prefetch" href="/blog/assets/js/33.aee1997e.js"><link rel="prefetch" href="/blog/assets/js/34.2ec48f4b.js"><link rel="prefetch" href="/blog/assets/js/35.243e9461.js"><link rel="prefetch" href="/blog/assets/js/36.d45780ab.js"><link rel="prefetch" href="/blog/assets/js/37.42e3a3d4.js"><link rel="prefetch" href="/blog/assets/js/38.f274f5f5.js"><link rel="prefetch" href="/blog/assets/js/39.cca068aa.js"><link rel="prefetch" href="/blog/assets/js/4.d30b0d75.js"><link rel="prefetch" href="/blog/assets/js/41.dd376e7b.js"><link rel="prefetch" href="/blog/assets/js/42.dacd5c56.js"><link rel="prefetch" href="/blog/assets/js/43.2a86bc5c.js"><link rel="prefetch" href="/blog/assets/js/44.f2ea1548.js"><link rel="prefetch" href="/blog/assets/js/45.30573e1e.js"><link rel="prefetch" href="/blog/assets/js/46.f7a8575a.js"><link rel="prefetch" href="/blog/assets/js/47.a8e78d14.js"><link rel="prefetch" href="/blog/assets/js/48.ed80ea0f.js"><link rel="prefetch" href="/blog/assets/js/49.2592d725.js"><link rel="prefetch" href="/blog/assets/js/5.f82613b2.js"><link rel="prefetch" href="/blog/assets/js/50.964710a6.js"><link rel="prefetch" href="/blog/assets/js/51.d35e005c.js"><link rel="prefetch" href="/blog/assets/js/52.b000d0cc.js"><link rel="prefetch" href="/blog/assets/js/53.ee7323d3.js"><link rel="prefetch" href="/blog/assets/js/54.0d6f9d14.js"><link rel="prefetch" href="/blog/assets/js/55.93cb5da5.js"><link rel="prefetch" href="/blog/assets/js/56.d21be668.js"><link rel="prefetch" href="/blog/assets/js/57.e597f049.js"><link rel="prefetch" href="/blog/assets/js/58.0ed89b65.js"><link rel="prefetch" href="/blog/assets/js/59.e9934b5e.js"><link rel="prefetch" href="/blog/assets/js/6.bc0b90ef.js"><link rel="prefetch" href="/blog/assets/js/60.3c8c5bbc.js"><link rel="prefetch" href="/blog/assets/js/61.b1822f70.js"><link rel="prefetch" href="/blog/assets/js/62.425702e1.js"><link rel="prefetch" href="/blog/assets/js/63.210cb8bc.js"><link rel="prefetch" href="/blog/assets/js/64.db72f51b.js"><link rel="prefetch" href="/blog/assets/js/65.4e0b7a1c.js"><link rel="prefetch" href="/blog/assets/js/66.7da8492d.js"><link rel="prefetch" href="/blog/assets/js/67.bbcd8cfc.js"><link rel="prefetch" href="/blog/assets/js/68.8596cc4c.js"><link rel="prefetch" href="/blog/assets/js/69.84386bbd.js"><link rel="prefetch" href="/blog/assets/js/7.0664863f.js"><link rel="prefetch" href="/blog/assets/js/70.1cdf3aa7.js"><link rel="prefetch" href="/blog/assets/js/71.a51300a7.js"><link rel="prefetch" href="/blog/assets/js/72.b358c0a6.js"><link rel="prefetch" href="/blog/assets/js/8.ebe1172d.js"><link rel="prefetch" href="/blog/assets/js/9.393600a2.js"><link rel="prefetch" href="/blog/assets/js/vendors~docsearch.70ce4bac.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.012201c4.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">Relsola</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JavaScript" class="dropdown-title"><span class="title">JavaScript</span> <span class="arrow down"></span></button> <button type="button" aria-label="JavaScript" class="mobile-dropdown-title"><span class="title">JavaScript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/JavaScript/base.html" class="nav-link">
  深入理解解JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/blog/JavaScript/es6.html" class="nav-link">
  深入理解ES6
</a></li><li class="dropdown-item"><!----> <a href="/blog/JavaScript/handwrite.html" class="nav-link">
  JavaScript手写系列
</a></li><li class="dropdown-item"><!----> <a href="/blog/JavaScript/designPattern.html" class="nav-link">
  JavaScript设计模式
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Vue" class="dropdown-title"><span class="title">Vue</span> <span class="arrow down"></span></button> <button type="button" aria-label="Vue" class="mobile-dropdown-title"><span class="title">Vue</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/vue/vue2base.html" class="nav-link">
  Vue2基础
</a></li><li class="dropdown-item"><!----> <a href="/blog/vue/vue3base.html" class="nav-link">
  Vue3基础
</a></li><li class="dropdown-item"><!----> <a href="/blog/vue/libraries.html" class="nav-link">
  Vue核心插件
</a></li><li class="dropdown-item"><!----> <a href="/blog/vue/vue2sourceCode.html" class="nav-link">
  Vue2源码解读
</a></li><li class="dropdown-item"><!----> <a href="/blog/vue/vue3sourceCode.html" class="nav-link">
  Vue3源码解读
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="React" class="dropdown-title"><span class="title">React</span> <span class="arrow down"></span></button> <button type="button" aria-label="React" class="mobile-dropdown-title"><span class="title">React</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/react/base.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  React基础
</a></li><li class="dropdown-item"><!----> <a href="/blog/react/ecology.html" class="nav-link">
  React生态
</a></li><li class="dropdown-item"><!----> <a href="/blog/react/sourceCode.html" class="nav-link">
  React源码
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端工程化" class="dropdown-title"><span class="title">前端工程化</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端工程化" class="mobile-dropdown-title"><span class="title">前端工程化</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/project/webpack.html" class="nav-link">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/blog/project/vite.html" class="nav-link">
  Vite
</a></li><li class="dropdown-item"><!----> <a href="/blog/project/rollup.html" class="nav-link">
  Rollup
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="TypeScript" class="dropdown-title"><span class="title">TypeScript</span> <span class="arrow down"></span></button> <button type="button" aria-label="TypeScript" class="mobile-dropdown-title"><span class="title">TypeScript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/typescript/base.html" class="nav-link">
  TypeScript基础
</a></li><li class="dropdown-item"><!----> <a href="/blog/typescript/challenge.html" class="nav-link">
  TypeScript类型体操
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="CSS预编译器" class="dropdown-title"><span class="title">CSS预编译器</span> <span class="arrow down"></span></button> <button type="button" aria-label="CSS预编译器" class="mobile-dropdown-title"><span class="title">CSS预编译器</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/cssPrecompile/tailwindcss.html" class="nav-link">
  tailwindcss
</a></li><li class="dropdown-item"><!----> <a href="/blog/cssPrecompile/less.html" class="nav-link">
  Less
</a></li><li class="dropdown-item"><!----> <a href="/blog/cssPrecompile/sass.html" class="nav-link">
  Sass
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他" class="mobile-dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/other/git.html" class="nav-link">
  Git操作
</a></li><li class="dropdown-item"><!----> <a href="/blog/other/browser.html" class="nav-link">
  浏览器&amp;网络
</a></li></ul></div></div> <a href="https://github.com/Relsola/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JavaScript" class="dropdown-title"><span class="title">JavaScript</span> <span class="arrow down"></span></button> <button type="button" aria-label="JavaScript" class="mobile-dropdown-title"><span class="title">JavaScript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/JavaScript/base.html" class="nav-link">
  深入理解解JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/blog/JavaScript/es6.html" class="nav-link">
  深入理解ES6
</a></li><li class="dropdown-item"><!----> <a href="/blog/JavaScript/handwrite.html" class="nav-link">
  JavaScript手写系列
</a></li><li class="dropdown-item"><!----> <a href="/blog/JavaScript/designPattern.html" class="nav-link">
  JavaScript设计模式
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Vue" class="dropdown-title"><span class="title">Vue</span> <span class="arrow down"></span></button> <button type="button" aria-label="Vue" class="mobile-dropdown-title"><span class="title">Vue</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/vue/vue2base.html" class="nav-link">
  Vue2基础
</a></li><li class="dropdown-item"><!----> <a href="/blog/vue/vue3base.html" class="nav-link">
  Vue3基础
</a></li><li class="dropdown-item"><!----> <a href="/blog/vue/libraries.html" class="nav-link">
  Vue核心插件
</a></li><li class="dropdown-item"><!----> <a href="/blog/vue/vue2sourceCode.html" class="nav-link">
  Vue2源码解读
</a></li><li class="dropdown-item"><!----> <a href="/blog/vue/vue3sourceCode.html" class="nav-link">
  Vue3源码解读
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="React" class="dropdown-title"><span class="title">React</span> <span class="arrow down"></span></button> <button type="button" aria-label="React" class="mobile-dropdown-title"><span class="title">React</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/react/base.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  React基础
</a></li><li class="dropdown-item"><!----> <a href="/blog/react/ecology.html" class="nav-link">
  React生态
</a></li><li class="dropdown-item"><!----> <a href="/blog/react/sourceCode.html" class="nav-link">
  React源码
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端工程化" class="dropdown-title"><span class="title">前端工程化</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端工程化" class="mobile-dropdown-title"><span class="title">前端工程化</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/project/webpack.html" class="nav-link">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/blog/project/vite.html" class="nav-link">
  Vite
</a></li><li class="dropdown-item"><!----> <a href="/blog/project/rollup.html" class="nav-link">
  Rollup
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="TypeScript" class="dropdown-title"><span class="title">TypeScript</span> <span class="arrow down"></span></button> <button type="button" aria-label="TypeScript" class="mobile-dropdown-title"><span class="title">TypeScript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/typescript/base.html" class="nav-link">
  TypeScript基础
</a></li><li class="dropdown-item"><!----> <a href="/blog/typescript/challenge.html" class="nav-link">
  TypeScript类型体操
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="CSS预编译器" class="dropdown-title"><span class="title">CSS预编译器</span> <span class="arrow down"></span></button> <button type="button" aria-label="CSS预编译器" class="mobile-dropdown-title"><span class="title">CSS预编译器</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/cssPrecompile/tailwindcss.html" class="nav-link">
  tailwindcss
</a></li><li class="dropdown-item"><!----> <a href="/blog/cssPrecompile/less.html" class="nav-link">
  Less
</a></li><li class="dropdown-item"><!----> <a href="/blog/cssPrecompile/sass.html" class="nav-link">
  Sass
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他" class="mobile-dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/other/git.html" class="nav-link">
  Git操作
</a></li><li class="dropdown-item"><!----> <a href="/blog/other/browser.html" class="nav-link">
  浏览器&amp;网络
</a></li></ul></div></div> <a href="https://github.com/Relsola/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>React基础</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/react/base.html#创建项目" class="sidebar-link">创建项目</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/react/base.html#官方脚手架" class="sidebar-link">官方脚手架</a></li><li class="sidebar-sub-header"><a href="/blog/react/base.html#vite创建" class="sidebar-link">Vite创建</a></li></ul></li><li><a href="/blog/react/base.html#jsx语法" class="sidebar-link">JSX语法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/react/base.html#jsx是什么" class="sidebar-link">JSX是什么</a></li><li class="sidebar-sub-header"><a href="/blog/react/base.html#插值表达式" class="sidebar-link">插值表达式</a></li></ul></li><li><a href="/blog/react/base.html#组件" class="sidebar-link">组件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/react/base.html#定义组件" class="sidebar-link">定义组件</a></li><li class="sidebar-sub-header"><a href="/blog/react/base.html#state" class="sidebar-link">state</a></li><li class="sidebar-sub-header"><a href="/blog/react/base.html#props" class="sidebar-link">Props</a></li><li class="sidebar-sub-header"><a href="/blog/react/base.html#组件生命周期" class="sidebar-link">组件生命周期</a></li><li class="sidebar-sub-header"><a href="/blog/react/base.html#获取组件实例、dom元素" class="sidebar-link">获取组件实例、DOM元素</a></li></ul></li><li><a href="/blog/react/base.html#hooks" class="sidebar-link">Hooks</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/react/base.html#样式方案" class="sidebar-link">样式方案</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/react/base.html#高级特性" class="sidebar-link">高级特性</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/react/base.html#性能优化" class="sidebar-link">性能优化</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/react/base.html#状态管理" class="sidebar-link">状态管理</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="react基础"><a href="#react基础" class="header-anchor">#</a> React基础</h1> <h2 id="创建项目"><a href="#创建项目" class="header-anchor">#</a> 创建项目</h2> <h3 id="官方脚手架"><a href="#官方脚手架" class="header-anchor">#</a> 官方脚手架</h3> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token comment"># create-react-app创建:</span>

npx create-react-app test-demo <span class="token parameter variable">--template</span> typescript
</code></pre></div><h3 id="vite创建"><a href="#vite创建" class="header-anchor">#</a> Vite创建</h3> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token comment"># 推荐</span>

<span class="token function">pnpm</span> create vite@latest react-demo-vite <span class="token parameter variable">--template</span> react-ts
</code></pre></div><h2 id="jsx语法"><a href="#jsx语法" class="header-anchor">#</a> JSX语法</h2> <h3 id="jsx是什么"><a href="#jsx是什么" class="header-anchor">#</a> JSX是什么</h3> <div class="custom-block tip"><p class="custom-block-title">JSX是什么</p> <ol><li>一种标签语法、JS 进行的语法扩展</li> <li>不是字符串、不是 HTML 标签</li> <li>描述 UI 呈现与交互的直观的表现形式</li> <li>生成 React 元素</li></ol></div> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">class</span> <span class="token class-name">MyButton</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">openStatus</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">statusChange</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">openStatus</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>openStatus
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// JSX 遵循JS的命名规范，一般使用camelCase小驼峰</span>
    <span class="token comment">// class =&gt; className  tabindex =&gt; tabindex</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>container<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>text<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token punctuation">{</span>
            <span class="token comment">// 插值表达式</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>openStatus <span class="token operator">?</span> <span class="token string">'打开状态'</span> <span class="token operator">:</span> <span class="token string">'关闭状态'</span>
          <span class="token punctuation">}</span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">statusChange</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>openStatus <span class="token operator">?</span> <span class="token string">'关闭'</span> <span class="token operator">:</span> <span class="token string">'打开'</span> <span class="token punctuation">}</span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>React<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span>MyButton<span class="token punctuation">)</span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;app&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="标签"><a href="#标签" class="header-anchor">#</a> 标签</h4> <ul><li>首字母大写表示组件，小写是 <code>html</code> 原生标签</li> <li>每段 <code>JSX</code> 片段只能有一个根节点，即单根节点（vue3可以是多根节点）</li> <li><code>JSX</code> 中空标签 <code>（&lt;&gt;&lt;/&gt;）</code> 表示 <code>Fragment</code>，可以作为根节点</li></ul> <h4 id="属性"><a href="#属性" class="header-anchor">#</a> 属性</h4> <p><code>jsx</code> 的属性就是 <code>html</code> 的属性，只有些微区别：</p> <ul><li><code>class</code> 要写为 <code>className</code>，为了防止和<code>类(class)</code>关键字冲突</li> <li><code>style</code> 要使用 <code>Object</code>形式，且必须是驼峰写法</li> <li><code>label</code> 的 <code>for</code> 要写为 <code>htmlFor</code>，避免与<code>for循环</code>冲突</li></ul> <h4 id="事件"><a href="#事件" class="header-anchor">#</a> 事件</h4> <ul><li>写法使用 <code>onXxx</code> 形式</li> <li>必须传入一个函数，<strong>是 <code>fn</code> 不能是执行结果 <code>fn()</code></strong></li></ul> <h3 id="插值表达式"><a href="#插值表达式" class="header-anchor">#</a> 插值表达式</h3> <ul><li>我们可以使用 <code>{ XXX }</code> 插入JS变量，函数，表达式</li> <li>可以插入普通文本，属性</li> <li>可以用于注释</li></ul> <h4 id="jsx中的条件渲染"><a href="#jsx中的条件渲染" class="header-anchor">#</a> JSX中的条件渲染</h4> <ul><li>使用 <code>&amp;&amp;</code>，适用隐藏显示单个元素</li> <li>三目运算符<code>（? :）</code>，适用两个元素的来回切换</li> <li><code>if</code> 语句来选择性地返回 <code>JSX</code> 表达式</li></ul> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">const</span> show <span class="token operator">=</span> <span class="token boolean">true</span>

<span class="token keyword">const</span> <span class="token function-variable function">WhoShow</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>show<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">true</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">false</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>show <span class="token operator">&amp;&amp;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">hello</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>show <span class="token operator">?</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">nothing</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span> <span class="token operator">:</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">hello</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">WhoShow</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">WhoShow</span></span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="jsx中的循环渲染"><a href="#jsx中的循环渲染" class="header-anchor">#</a> JSX中的循环渲染</h4> <p>使用数组 <code>map</code></p> <div class="custom-block warning"><p class="custom-block-title">注意</p> <ul><li>每个<strong>item</strong>元素都需要一个<strong>key</strong></li> <li><strong>key</strong>同级别唯一</li> <li>不要使用<strong>index</strong>作为<strong>key</strong></li></ul></div> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">const</span> list <span class="token operator">=</span> <span class="token punctuation">[</span>
	<span class="token punctuation">{</span> <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">&quot;zhangsan&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;张三&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token punctuation">{</span> <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">&quot;lisi&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;李四&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token punctuation">{</span> <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">&quot;wangwu&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;王五&quot;</span> <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
	</span><span class="token punctuation">{</span>list<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">user</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token keyword">const</span> <span class="token punctuation">{</span> username<span class="token punctuation">,</span> name <span class="token punctuation">}</span> <span class="token operator">=</span> user<span class="token punctuation">;</span>
		<span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>username<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>name<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="组件"><a href="#组件" class="header-anchor">#</a> 组件</h2> <h3 id="定义组件"><a href="#定义组件" class="header-anchor">#</a> 定义组件</h3> <h4 id="定义class组件"><a href="#定义class组件" class="header-anchor">#</a> 定义class组件</h4> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component<span class="token punctuation">,</span> ReactNode <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">ClassComponentDemo</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
	<span class="token function">constructor</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>

	<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token punctuation">(</span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
				</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">ClassComponent</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> ClassComponentDemo
</code></pre></div><h4 id="定义一个函数组件"><a href="#定义一个函数组件" class="header-anchor">#</a> 定义一个函数组件</h4> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span>

<span class="token keyword">function</span> <span class="token function">FunctionComponentDemo</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">FunctionComponentDemo</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> FunctionComponentDemo
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">推荐使用函数组件</p> <p><code>React16</code> 以后，官方推荐使用 <strong>函数组件 + hooks</strong></p></div> <h3 id="state"><a href="#state" class="header-anchor">#</a> state</h3> <p><code>state</code> 是组件内部的状态信息（组件的独家记忆），不对外，只有 <code>state</code> 变化，才能触发组件更新，重新执行 <code>render</code> 方法，渲染页面。</p> <div class="custom-block warning"><p class="custom-block-title">注意</p> <p>永远都不要去修改 <code>state</code> 的值，如果需要改变，而是应该使用 <code>set</code> 方法完整替换改变 <code>state</code></p></div> <h4 id="class组件的state"><a href="#class组件的state" class="header-anchor">#</a> class组件的state</h4> <p>使用 <code>this.setState()</code> 更新 <code>state</code>,<strong>禁止直接更改 <code>state</code></strong>。</p> <p><code>class</code> 组件中的 <code>this</code> 绑定：</p> <ol><li>在 <code>construct</code> 内 <code>bind(this)</code></li></ol> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component<span class="token punctuation">,</span> ReactNode <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">ClassComponentDemo</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
	<span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
			<span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
		<span class="token punctuation">}</span>
		<span class="token comment">// bind(this)</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>addCount <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">addCount</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>

	<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// 插值表达式</span>
		<span class="token keyword">return</span> <span class="token punctuation">(</span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
				</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
				</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                    </span><span class="token punctuation">{</span><span class="token comment">/* 事件绑定 */</span><span class="token punctuation">}</span><span class="token plain-text">
					</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>addCount<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">add</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
				</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>

	<span class="token function">addCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 如果没有 bind（this） 指向undefined 后续会报错找不到state</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> ClassComponentDemo<span class="token punctuation">;</span>
</code></pre></div><ol start="2"><li>在绑定事件时 <code>bind(this)</code></li></ol> <div class="custom-block tip"><p class="custom-block-title">不推荐</p> <p>因为每次更新都会重新执行 <code>render</code> 方法，每次更新都会执行 <code>bind(this)</code>，<code>construct</code> 只有初始化时执行一次 <code>bind(this)</code>，所以性能更好。</p></div> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">addCount</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">add</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="3"><li>定义方法的时候使用箭头函数, 箭头函数内的 <code>this</code> 为函数的上级作用域的 <code>this</code></li></ol> <div class="custom-block tip"><p class="custom-block-title">推荐</p> <p>使用箭头函数，简洁。</p></div> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token function-variable function">addCount</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// 组件本身</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="函数组件的state"><a href="#函数组件的state" class="header-anchor">#</a> 函数组件的state</h4> <ol><li>函数组件的 <code>state</code> 需要借助钩子 <code>useState</code> 的帮助</li> <li>使用 <code>useState</code> 返回的 <code>set</code> 方法修改 <code>state</code> ，禁止直接更改 <code>state</code></li></ol> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token literal-property property">FunctionComponentDemo</span><span class="token operator">:</span> <span class="token function-variable function">FC</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>

	<span class="token keyword">const</span> <span class="token function-variable function">addCount</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token comment">// 这里的count是setCount之前的count</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span> 
	<span class="token punctuation">}</span>

	<span class="token comment">// 插值表达式</span>
	<span class="token keyword">return</span> <span class="token punctuation">(</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>addCount<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
				</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">add</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
		</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
	<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> FunctionComponentDemo
</code></pre></div><h4 id="使用immer释放不可变值的心理负担"><a href="#使用immer释放不可变值的心理负担" class="header-anchor">#</a> 使用immer释放不可变值的心理负担</h4> <p>由于 <code>state</code> 是不可变数据，操作成本比较高，有很大的不稳定性，你可能会忘了解构，忘了变更地址，使用 <code>immer</code> 可避免这一问题</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token comment"># 安装</span>

<span class="token function">npm</span> <span class="token function">install</span> immer <span class="token parameter variable">--save</span>
</code></pre></div><div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> produce <span class="token keyword">from</span> <span class="token string">'immer'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">Demo</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> <span class="token punctuation">[</span>userInfo<span class="token punctuation">,</span> setUserInfo<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'lisi'</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token keyword">const</span> <span class="token function-variable function">changeAge</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token comment">// userInfo.age = 21 修改失败，这里是直接对state的值进行修改</span>
		<span class="token comment">// 传入一个新的值，修改成功</span>
		<span class="token comment">// userInfo.age = 21</span>
		<span class="token comment">// setUserInfo({ ...userInfo })</span>

        <span class="token comment">// 使用immer</span>
		<span class="token function">setUserInfo</span><span class="token punctuation">(</span>
			<span class="token function">produce</span><span class="token punctuation">(</span><span class="token parameter">draft</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
				draft<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">21</span>
				draft<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">10</span>
			<span class="token punctuation">}</span><span class="token punctuation">)</span>
		<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">const</span> <span class="token punctuation">[</span>list<span class="token punctuation">,</span> setList<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'x'</span><span class="token punctuation">,</span> <span class="token string">'y'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
	<span class="token keyword">const</span> <span class="token function-variable function">changeList</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token comment">// list[2] = 'z' 修改失败，与上面同理</span>
		<span class="token comment">// const newList = [...list]</span>
		<span class="token comment">// newList[1] = 'z'</span>
		<span class="token comment">// setList(newList)</span>

		<span class="token function">setList</span><span class="token punctuation">(</span>
			<span class="token function">produce</span><span class="token punctuation">(</span><span class="token parameter">draft</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
				draft<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'z'</span>
			<span class="token punctuation">}</span><span class="token punctuation">)</span>
		<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token punctuation">(</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">state 不可变数据</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>userInfo<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>changeAge<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">修改年龄</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>changeList<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">修改数组</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
		</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
	<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Demo<span class="token punctuation">;</span>
</code></pre></div><h4 id="state使用注意点"><a href="#state使用注意点" class="header-anchor">#</a> state使用注意点</h4> <ol><li><p>为什么不能直接修改 <code>state</code></p> <ul><li>不触发更新：如果直接修改状态的值，<code>React</code> 无法检测到状态的变化，因此不会触发组件的重新渲染<code>(rerender)</code>。结果是组件的输出不会更新，导致显示的内容不符合预期。</li> <li>性能问题：<code>React</code> 通过比较前后状态的差异来判断是否需要重新渲染组件。当直接修改状态值时，<code>React</code> 无法确定状态是否发生了变化，因此可能会导致频繁的重新渲染，降低性能。</li> <li>可追踪性问题：<code>React</code> 通过 <code>setState</code> 方法记录状态的变化历史，这样可以追踪状态的修改，帮助进行调试和排查问题。直接修改状态会失去这种历史记录，使得错误的定位和修复更加困难。</li></ul></li> <li><p><code>set</code> 方法是异步的，想要获取改变之后的 <code>state</code></p> <ul><li><code>class组件</code>需要通过向 <code>setState()</code> 传入 <code>callback</code> 去获取，<code>callback</code> 会在 <code>rerender</code> 之后触发</li> <li><code>Function组件</code>需要借助 <code>useEffect()</code> 的帮助</li></ul></li> <li><p><code>set</code> 时如果传入的是一个值，不是函数，操作会被合并</p></li> <li><p><code>set</code> 时如果传入的是一个返回值的函数并且使用该函数提供的 <code>prevState</code> 操作不会被合并</p> <ul><li>使用函数，会将函数传入异步队列，利用 <code>eventLoop</code> 的机制顺序执行这些函数。</li></ul></li> <li><p>如果一个变量不用于 <code>JSX</code> 片段请不要使用 <code>state</code> 来管理它</p></li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 渲染更新后，count=1</span>
<span class="token keyword">const</span> <span class="token function-variable function">addCount</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
	<span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
	<span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 渲染更新后，count=3</span>
<span class="token keyword">const</span> <span class="token function-variable function">addCount</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token function">setCount</span><span class="token punctuation">(</span><span class="token parameter">count</span> <span class="token operator">=&gt;</span> count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
	<span class="token function">setCount</span><span class="token punctuation">(</span><span class="token parameter">count</span> <span class="token operator">=&gt;</span> count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
	<span class="token function">setCount</span><span class="token punctuation">(</span><span class="token parameter">count</span> <span class="token operator">=&gt;</span> count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="props"><a href="#props" class="header-anchor">#</a> Props</h3> <p>完成父子通信：</p> <ul><li>组件是可嵌套的，有层级关系</li> <li>父组件可以给子组件传递数据</li> <li>子组件接收数据，并显示数据</li></ul> <p>父组件：</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">import</span> FunctionComponentDemo <span class="token keyword">from</span> <span class="token string">'./FunctionComponentDemo'</span>
<span class="token keyword">import</span> ClassComponentDemo <span class="token keyword">from</span> <span class="token string">'./ClassComponentDemo'</span>
<span class="token keyword">import</span> styles <span class="token keyword">from</span> <span class="token string">'./index.module.scss'</span>
<span class="token keyword">import</span> classnames <span class="token keyword">from</span> <span class="token string">'classnames'</span>

<span class="token keyword">const</span> <span class="token function-variable function">BaseUseDemo</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>

	<span class="token keyword">const</span> <span class="token punctuation">[</span>isRedBorder<span class="token punctuation">,</span> setIsRedBorder<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
	<span class="token keyword">const</span> <span class="token punctuation">[</span>isYellowBackground<span class="token punctuation">,</span> setIsYellowBackground<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
	<span class="token keyword">const</span> <span class="token punctuation">[</span>isBlueColor<span class="token punctuation">,</span> setIsBlueColor<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>

	<span class="token keyword">const</span> dynamicClassName <span class="token operator">=</span> <span class="token function">classnames</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
		<span class="token punctuation">[</span>styles<span class="token punctuation">[</span><span class="token string">'container'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
		<span class="token punctuation">[</span>styles<span class="token punctuation">[</span><span class="token string">'red-border'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">:</span> isRedBorder<span class="token punctuation">,</span>
		<span class="token punctuation">[</span>styles<span class="token punctuation">[</span><span class="token string">'yellow-background'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">:</span> isYellowBackground<span class="token punctuation">,</span>
		<span class="token punctuation">[</span>styles<span class="token punctuation">[</span><span class="token string">'blue-color'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">:</span> isBlueColor<span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>

	<span class="token keyword">const</span> <span class="token function-variable function">toggleBorderStyle</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token function">setIsRedBorder</span><span class="token punctuation">(</span><span class="token operator">!</span>isRedBorder<span class="token punctuation">)</span>
		<span class="token function">setIsYellowBackground</span><span class="token punctuation">(</span><span class="token operator">!</span>isYellowBackground<span class="token punctuation">)</span>
		<span class="token function">setIsBlueColor</span><span class="token punctuation">(</span><span class="token operator">!</span>isBlueColor<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">const</span> <span class="token function-variable function">countAdd</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// 1. 传递普通数据，不会rerender</span>
	<span class="token keyword">let</span> message <span class="token operator">=</span> <span class="token string">'0'</span>
	<span class="token keyword">const</span> <span class="token function-variable function">sendMessage</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		message <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100</span> <span class="token operator">+</span> <span class="token string">''</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// 传递state数据，可以触发rerender</span>
	<span class="token comment">// const [message, setMessage] = useState('0')</span>
	<span class="token comment">// const sendMessage = () =&gt; {</span>
	<span class="token comment">// 	setMessage(Math.random() * 100 + '')</span>
	<span class="token comment">// }</span>

	<span class="token comment">// 2. 传递组件给子组件渲染</span>
	<span class="token keyword">const</span> comp <span class="token operator">=</span> <span class="token punctuation">(</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">我是父组件排下来巡查的</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
		</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
	<span class="token punctuation">)</span>

	<span class="token comment">// 3. 传递普通函数给子组件执行</span>
	<span class="token keyword">const</span> <span class="token punctuation">[</span>classCompMsg<span class="token punctuation">,</span> setClassCompMsg<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">'无msg'</span><span class="token punctuation">)</span>
	<span class="token keyword">const</span> <span class="token punctuation">[</span>funcCompMsg<span class="token punctuation">,</span> setFuncCompMsg<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">'无msg'</span><span class="token punctuation">)</span>

	<span class="token comment">// 传递函数给子组件，接收子组件传递的函数</span>
	<span class="token keyword">let</span> addFuncCompCount
	<span class="token keyword">const</span> <span class="token function-variable function">getFuncCompAddCount</span> <span class="token operator">=</span> <span class="token parameter">callback</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		addFuncCompCount <span class="token operator">=</span> callback
	<span class="token punctuation">}</span>

	<span class="token keyword">let</span> addClassCompCount
	<span class="token keyword">const</span> <span class="token function-variable function">getClassCompAddCount</span> <span class="token operator">=</span> <span class="token parameter">callback</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		addClassCompCount <span class="token operator">=</span> callback
	<span class="token punctuation">}</span>

	<span class="token keyword">return</span> <span class="token punctuation">(</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>dynamicClassName<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>item<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
				</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">function 组件</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
				</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
					</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FunctionComponentDemo</span></span>
						<span class="token attr-name">msg</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>message<span class="token punctuation">}</span></span>
						<span class="token attr-name">addParentCount</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>countAdd<span class="token punctuation">}</span></span>
						<span class="token attr-name">setParentMsg</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>setFuncCompMsg<span class="token punctuation">}</span></span>
						<span class="token attr-name">comp</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>comp<span class="token punctuation">}</span></span>
						<span class="token attr-name">transCallback</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>getFuncCompAddCount<span class="token punctuation">}</span></span>
					<span class="token punctuation">/&gt;</span></span><span class="token plain-text">
				</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>item<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
				</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">class组件消息:</span><span class="token punctuation">{</span>classCompMsg<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
				</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">function组件消息:</span><span class="token punctuation">{</span>funcCompMsg<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
				</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">count: </span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
				</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>sendMessage<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">sendMessage</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
				</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span>
					<span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
						<span class="token function">addClassCompCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
					<span class="token punctuation">}</span><span class="token punctuation">}</span></span>
				<span class="token punctuation">&gt;</span></span><span class="token plain-text">
					addClassCompCount
				</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
				</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span>
					<span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
						<span class="token function">addFuncCompCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
					<span class="token punctuation">}</span><span class="token punctuation">}</span></span>
				<span class="token punctuation">&gt;</span></span><span class="token plain-text">
					addFuncCompCount
				</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
				</span><span class="token punctuation">{</span><span class="token comment">/* &lt;button onClick={toggleBorderStyle}&gt;显示/隐藏红边框&lt;/button&gt; */</span><span class="token punctuation">}</span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>item<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
				</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">class 组件</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
				</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
					</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ClassComponentDemo</span></span>
						<span class="token attr-name">msg</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>message<span class="token punctuation">}</span></span>
						<span class="token attr-name">addParentCount</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>countAdd<span class="token punctuation">}</span></span>
						<span class="token attr-name">setParentMsg</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>setClassCompMsg<span class="token punctuation">}</span></span>
						<span class="token attr-name">comp</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>comp<span class="token punctuation">}</span></span>
						<span class="token attr-name">transCallback</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>getClassCompAddCount<span class="token punctuation">}</span></span>
					<span class="token punctuation">/&gt;</span></span><span class="token plain-text">
				</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
		</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
	<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> BaseUseDemo<span class="token punctuation">;</span>
</code></pre></div><p>Class子组件：</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component<span class="token punctuation">,</span> ReactNode <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">ClassComponentDemo</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
	<span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
			<span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
		<span class="token punctuation">}</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'111'</span><span class="token punctuation">)</span>
		<span class="token comment">// bind(this)</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>addCount <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">addCount</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>

		<span class="token comment">// 传递 方法 给父组件</span>
		props<span class="token punctuation">.</span><span class="token function">transCallback</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>addCount<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>

	<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> ReactNode <span class="token punctuation">{</span>
		<span class="token comment">// 插值表达式</span>
		<span class="token keyword">return</span> <span class="token punctuation">(</span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
				</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
				</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
					</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>addCount<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">add</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
				</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">

				</span><span class="token punctuation">{</span><span class="token comment">/* 使用父组件传递的数据 */</span><span class="token punctuation">}</span><span class="token plain-text">
				</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">parentMsg:</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>msg<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">

				</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
					</span><span class="token punctuation">{</span><span class="token comment">/* 调用父组件传递的方法 */</span><span class="token punctuation">}</span><span class="token plain-text">
					</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>addParentCount<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">addParentCount</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">

					</span><span class="token punctuation">{</span><span class="token comment">/* 传递数据给父组件 */</span><span class="token punctuation">}</span><span class="token plain-text">
					</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span>
						<span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
							<span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">setParentMsg</span><span class="token punctuation">(</span><span class="token string">'这是Class组件设置的信息'</span><span class="token punctuation">)</span>
						<span class="token punctuation">}</span><span class="token punctuation">}</span></span>
					<span class="token punctuation">&gt;</span></span><span class="token plain-text">
						setParentMsg
					</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">

					</span><span class="token punctuation">{</span><span class="token comment">/* 渲染父组件传递的组件 */</span><span class="token punctuation">}</span><span class="token plain-text">
					</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">渲染父组件传递的组件：</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>comp<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
				</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>

	<span class="token function">addCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 如果没有 bind（this） 指向undefined 后续会报错找不到state</span>
		console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span>
			<span class="token parameter">prevState</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">count</span><span class="token operator">:</span> prevState<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token comment">// 最新的state</span>
			<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count<span class="token punctuation">)</span><span class="token punctuation">}</span>
		<span class="token punctuation">)</span>
        <span class="token comment">// 这里的state永远是setState之前的state</span>
		console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
        
    <span class="token function">componentDidUpdate</span><span class="token punctuation">(</span><span class="token parameter">prevProps<span class="token punctuation">,</span> prevState<span class="token punctuation">,</span> snapshot</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// 更新后传递 方法 给父组件</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">transCallback</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>addCount<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> ClassComponentDemo
</code></pre></div><p>函数子组件：</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState<span class="token punctuation">,</span> useEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">FunctionComponentDemo</span> <span class="token operator">=</span> <span class="token parameter">props</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>

	<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// 获取最新的count</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>count<span class="token punctuation">]</span><span class="token punctuation">)</span>

	<span class="token keyword">const</span> <span class="token function-variable function">addCount</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token function">setCount</span><span class="token punctuation">(</span><span class="token parameter">prevCount</span> <span class="token operator">=&gt;</span> prevCount <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// 传递 方法 给父组件</span>
	props<span class="token punctuation">.</span><span class="token function">transCallback</span><span class="token punctuation">(</span>addCount<span class="token punctuation">)</span>

	<span class="token comment">// 插值表达式</span>
	<span class="token keyword">return</span> <span class="token punctuation">(</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
				</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>addCount<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">add</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">

			</span><span class="token punctuation">{</span><span class="token comment">/* 使用父组件传递的数据 */</span><span class="token punctuation">}</span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">parentMsg:</span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>msg<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">

			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
				</span><span class="token punctuation">{</span><span class="token comment">/* 调用父组件传递的方法 */</span><span class="token punctuation">}</span><span class="token plain-text">
				</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>addParentCount<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">addParentCount</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">

				</span><span class="token punctuation">{</span><span class="token comment">/* 传递数据给父组件 */</span><span class="token punctuation">}</span><span class="token plain-text">
				</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span>
					<span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
						props<span class="token punctuation">.</span><span class="token function">setParentMsg</span><span class="token punctuation">(</span><span class="token string">'这是Function组件设置的信息'</span><span class="token punctuation">)</span>
					<span class="token punctuation">}</span><span class="token punctuation">}</span></span>
				<span class="token punctuation">&gt;</span></span><span class="token plain-text">
					setParentMsg
				</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">

				</span><span class="token punctuation">{</span><span class="token comment">/* 渲染父组件传递的组件 */</span><span class="token punctuation">}</span><span class="token plain-text">
				</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">渲染父组件传递的组件：</span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>comp<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
		</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
	<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> FunctionComponentDemo<span class="token punctuation">;</span>
</code></pre></div><h4 id="props的3种应用"><a href="#props的3种应用" class="header-anchor">#</a> props的3种应用</h4> <ol><li>传递数据</li></ol> <p>传递普通数据，数据变化时，不会引起子组件 <code>rerender</code></p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">// 传递普通数据，不会rerender</span>
<span class="token keyword">let</span> message <span class="token operator">=</span> <span class="token string">'0'</span>
<span class="token keyword">const</span> <span class="token function-variable function">sendMessage</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        message <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100</span> <span class="token operator">+</span> <span class="token string">''</span>
<span class="token punctuation">}</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FunctionComponentDemo</span></span>  <span class="token attr-name">msg</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>message<span class="token punctuation">}</span></span>  <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ClassComponentDemo</span></span>  <span class="token attr-name">msg</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>message<span class="token punctuation">}</span></span>  <span class="token punctuation">/&gt;</span></span>
</code></pre></div><p>传递状态，状态变化时，引起子组件 <code>rerender</code></p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">// 传递state数据，可以触发rerender</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>message<span class="token punctuation">,</span> setMessage<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">'0'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">sendMessage</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">setMessage</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100</span> <span class="token operator">+</span> <span class="token string">''</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FunctionComponentDemo</span></span>  <span class="token attr-name">msg</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>message<span class="token punctuation">}</span></span>  <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ClassComponentDemo</span></span>  <span class="token attr-name">msg</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>message<span class="token punctuation">}</span></span>  <span class="token punctuation">/&gt;</span></span>
</code></pre></div><ol start="2"><li>传递组件给子组件，子组件渲染该组件</li></ol> <p>自定义属性传递，组件内通过该属性获取而后渲染</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">// 传递组件给子组件渲染</span>
<span class="token keyword">const</span> comp <span class="token operator">=</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">我是父组件排下来巡查的</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
<span class="token punctuation">)</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FunctionComponentDemo</span></span>  <span class="token attr-name">comp</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>comp<span class="token punctuation">}</span></span>  <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ClassComponentDemo</span></span> <span class="token attr-name">comp</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>comp<span class="token punctuation">}</span></span>  <span class="token punctuation">/&gt;</span></span>
</code></pre></div><p>也可以直接插入，组件内部通过 <code>props.children</code> 获取而后渲染</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FunctionComponentDemo</span></span>  <span class="token attr-name">comp</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>comp<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">123123</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">FunctionComponentDemo</span></span><span class="token punctuation">&gt;</span></span>

<span class="token keyword">const</span> <span class="token function-variable function">FunctionComponentDemo</span> <span class="token operator">=</span> <span class="token parameter">props</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span><span class="token punctuation">(</span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                        </span><span class="token punctuation">{</span><span class="token comment">/* 渲染父组件传递的组件 */</span><span class="token punctuation">}</span><span class="token plain-text">
                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">渲染父组件传递的组件：</span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>comp<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>children<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="3"><li>传递函数给子组件</li></ol> <p>传递父组件的方法给子组件使用</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">countAdd</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 3. 传递普通函数给子组件执行</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>classCompMsg<span class="token punctuation">,</span> setClassCompMsg<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">'无msg'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>funcCompMsg<span class="token punctuation">,</span> setFuncCompMsg<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">'无msg'</span><span class="token punctuation">)</span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FunctionComponentDemo</span></span>  <span class="token attr-name">setParentMsg</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>setFuncCompMsg<span class="token punctuation">}</span></span> <span class="token attr-name">addParentCount</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>countAdd<span class="token punctuation">}</span></span>  <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ClassComponentDemo</span></span>  <span class="token attr-name">setParentMsg</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>setClassCompMsg<span class="token punctuation">}</span></span> <span class="token attr-name">addParentCount</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>countAdd<span class="token punctuation">}</span></span>  <span class="token punctuation">/&gt;</span></span>
</code></pre></div><p>传递函数给子组件，子组件调用该函数，传递自身的方法给父组件使用, 同理，也能传数据给父组件</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">// 传递函数给子组件，接收子组件传递的函数</span>
<span class="token keyword">let</span> <span class="token function-variable function">addFuncCompCount</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span>
<span class="token keyword">const</span> <span class="token function-variable function">getFuncCompAddCount</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token function-variable function">callback</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        addFuncCompCount <span class="token operator">=</span> callback
<span class="token punctuation">}</span>

<span class="token keyword">let</span> <span class="token function-variable function">addClassCompCount</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span>
<span class="token keyword">const</span> <span class="token function-variable function">getClassCompAddCount</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token function-variable function">callback</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        addClassCompCount <span class="token operator">=</span> callback
<span class="token punctuation">}</span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FunctionComponentDemo</span></span>  <span class="token attr-name">transCallback</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>getFuncCompAddCount<span class="token punctuation">}</span></span>  <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ClassComponentDemo</span></span>  <span class="token attr-name">transCallback</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>getClassCompAddCount<span class="token punctuation">}</span></span>  <span class="token punctuation">/&gt;</span></span>
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">注意</p> <p>class组件：首次执行时在 <code>construct</code> 内传递方法给父组件，更新时还需要在 <code>componentDidUpdate</code> 传递方法给父组件</p></div> <div class="custom-block tip"><p class="custom-block-title">建议</p> <p>如果传递值非常多，可以使用解构的方式，使代码更简洁</p></div> <h3 id="组件生命周期"><a href="#组件生命周期" class="header-anchor">#</a> 组件生命周期</h3> <p>在React中，组件具有一组生命周期方法，它们在组件的不同阶段会被自动调用。</p> <h4 id="class组件生命周期"><a href="#class组件生命周期" class="header-anchor">#</a> class组件生命周期</h4> <ol><li><p><strong>挂载阶段（Mounting Phase）</strong>：组件被实例化并插入到DOM中。</p> <ul><li><code>constructor(props)</code> 在组件被创建时调用，用于初始化组件的状态（<code>state</code>）和绑定事件处理方法。</li> <li><code>render()</code> 必需方法，在该方法中返回 <code>JSX</code> 片段。</li> <li><code>componentDidMount()</code> 在组件首次渲染之后调用，可以执行一些副作用操作，如访问DOM、发送网络请求等。</li></ul></li> <li><p><strong>更新阶段（Updating Phase）</strong>：组件的 <code>props</code> 或 <code>state</code> 发生变化，导致组件重新渲染或更新。</p> <ul><li><code>shouldComponentUpdate(nextProps, nextState)</code> 在组件更新之前调用，用于决定是否需要进行重渲染，默认情况下总是返回 <code>true</code>。</li> <li><code>render()</code></li> <li><code>componentDidUpdate(prevProps, prevState, snapshot)</code> 在组件更新之后调用，可以执行一些副作用操作。</li></ul></li> <li><p><strong>卸载阶段（Unmounting Phase）</strong>：组件从DOM中被移除。</p> <ul><li><code>componentWillUnmount()</code> 在组件被卸载和销毁之前调用，可以进行一些清理操作，如取消订阅、清除计时器等。</li></ul></li> <li><p><strong>错误处理阶段（Error Handling Phase）</strong>：组件在渲染期间、生命周期方法中发生错误。</p> <ul><li><code>componentDidCatch(error, info)</code> 捕获在后代组件中生成的异常。未处理的异常将导致整个组件树卸载。</li></ul></li></ol> <h4 id="函数组件-生命周期"><a href="#函数组件-生命周期" class="header-anchor">#</a> 函数组件'生命周期'</h4> <p>严格意义来说，函数组件本身就只是个<code>纯函数</code>没有生命周期，但我们可以借助 <code>useEffect</code> 模拟生命周期。</p> <p><code>useEffect</code> 有两个参数：</p> <ul><li>参数1-<code>effect</code>：<code>useEffect</code> 钩子触发时的执行函数，该函数可以返回一个函数，如果返回函数，则该返回函数会在组件时调用（模拟<code>componentWillUnmount</code>）</li> <li>参数2-<code>deps</code>: 依赖项(非必传)
<ol><li>当该参数为 <code>[]</code> (空数组)时，模拟 <code>componentDidMount</code>，在组件挂载完成时执行参数1</li> <li>当该参数为有依赖项的数组时，模拟 <code>componentDidMount</code>，在组件挂载完成时及数组内的依赖项发生变化时（模拟特定于这些依赖项的 <code>componentDidUpdate</code>）执行参数1</li> <li>当该参数未传为 <code>undefined</code>、<code>null</code> 时，模拟 <code>componentDidMount</code>，模拟 <code>componentDidUpdate</code>，组件挂载完成时及任何状态发生改变的时候都会执行参数1</li></ol></li></ul> <p>哪些东西可以作为依赖项：</p> <ol><li>当前组件的 <code>state</code></li> <li><code>props</code>, 前提得是父组件传递过来的 <code>state</code>, 普通数据不能作为依赖项，它不会引起 <code>rerender</code></li> <li>在组件中声明的会因为重新渲染而改变的变量都可以作为依赖项，可以视为具有了状态</li></ol> <h3 id="获取组件实例、dom元素"><a href="#获取组件实例、dom元素" class="header-anchor">#</a> 获取组件实例、DOM元素</h3> <p>在React中，通过使用 <code>ref</code> 来获取组件实例。 <code>ref</code> 是一个可以引用React组件、DOM元素或其他对象的特殊属性。</p> <ul><li><code>ref</code> 用于操作 <code>DOM</code>,而不触发 <code>rerender</code>，避免性能的浪费</li> <li>也可传入普通<code>JS变量</code>，但更新不会触发 <code>rerender</code></li> <li><code>class组件</code>使用 <code>createRef()</code></li> <li>函数组件使用 <code>useRef()</code>钩子</li></ul> <h4 id="class组件"><a href="#class组件" class="header-anchor">#</a> class组件</h4> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component<span class="token punctuation">,</span> createRef <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">ClassComponentDemo</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
	<span class="token keyword">private</span> btnRef <span class="token operator">=</span> <span class="token function">createRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">'render'</span><span class="token punctuation">)</span>
		<span class="token comment">// 插值表达式</span>
		<span class="token keyword">return</span> <span class="token punctuation">(</span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>btnRef<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                    add
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>

	<span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">'componentDidMount'</span><span class="token punctuation">)</span>
		console<span class="token punctuation">.</span><span class="token function">dir</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>btnRef<span class="token punctuation">.</span>current<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> ClassComponentDemo<span class="token punctuation">;</span>
</code></pre></div><h4 id="函数组件"><a href="#函数组件" class="header-anchor">#</a> 函数组件</h4> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useEffect<span class="token punctuation">,</span> useRef<span class="token punctuation">,</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ClassComponentDemo <span class="token keyword">from</span> <span class="token string">'./ClassComponentDemo'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">BaseUseDemo</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> ClassComponentDemoRef <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>

	<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">dir</span><span class="token punctuation">(</span>ClassComponentDemoRef<span class="token punctuation">.</span>current<span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>ClassComponentDemoRef<span class="token punctuation">]</span><span class="token punctuation">)</span>
        
        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ClassComponentDemo</span></span>
                        <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>ClassComponentDemoRef<span class="token punctuation">}</span></span>
                        <span class="token attr-name">msg</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>message<span class="token punctuation">}</span></span>
                        <span class="token attr-name">addParentCount</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>countAdd<span class="token punctuation">}</span></span>
                        <span class="token attr-name">setParentMsg</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>setClassCompMsg<span class="token punctuation">}</span></span>
                        <span class="token attr-name">comp</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>comp<span class="token punctuation">}</span></span>
                        <span class="token attr-name">transCallback</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>getClassCompAddCount<span class="token punctuation">}</span></span>
                <span class="token punctuation">/&gt;</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> BaseUseDemo<span class="token punctuation">;</span>
</code></pre></div><h2 id="hooks"><a href="#hooks" class="header-anchor">#</a> Hooks</h2> <h2 id="样式方案"><a href="#样式方案" class="header-anchor">#</a> 样式方案</h2> <h2 id="高级特性"><a href="#高级特性" class="header-anchor">#</a> 高级特性</h2> <h2 id="性能优化"><a href="#性能优化" class="header-anchor">#</a> 性能优化</h2> <h2 id="状态管理"><a href="#状态管理" class="header-anchor">#</a> 状态管理</h2></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.54f561eb.js" defer></script><script src="/blog/assets/js/3.e4d952b8.js" defer></script><script src="/blog/assets/js/2.fb865790.js" defer></script><script src="/blog/assets/js/40.b7d215bd.js" defer></script>
  </body>
</html>
