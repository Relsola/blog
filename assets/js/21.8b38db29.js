(window.webpackJsonp=window.webpackJsonp||[]).push([[21,191,192,202,204,205,206,208],{281:function(t,s,a){t.exports=a.p+"assets/img/routerMiddle.c7fe5f02.png"},282:function(t,s,a){t.exports=a.p+"assets/img/writeMiddle.fb581c4f.png"},283:function(t,s,a){t.exports=a.p+"assets/img/routingMe.536cb95f.png"},284:function(t,s,a){t.exports=a.p+"assets/img/preform.0709148c.png"},285:function(t,s,a){t.exports=a.p+"assets/img/requirement.3042761f.png"},286:function(t,s,a){t.exports=a.p+"assets/img/fundesign.f9767f3b.png"},287:function(t,s,a){t.exports=a.p+"assets/img/httpres.b613a7c1.png"},592:function(t,s,a){"use strict";a.r(s);var n=a(1),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"_1-5-ä½¿ç”¨expressæ­å»ºweb-server"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-ä½¿ç”¨expressæ­å»ºweb-server"}},[t._v("#")]),t._v(" 1.5 ä½¿ç”¨Expressæ­å»ºWeb server")]),t._v(" "),s("h3",{attrs:{id:"_1-5-1-express-æ¡†æž¶æ¦‚è§ˆ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-1-express-æ¡†æž¶æ¦‚è§ˆ"}},[t._v("#")]),t._v(" 1.5.1 Express æ¡†æž¶æ¦‚è§ˆ")]),t._v(" "),s("ul",[s("li",[t._v("é«˜åº¦åŒ…å®¹ï¼Œå¿«é€Ÿè€Œç®€å•çš„Node.js Webæ¡†æž¶")]),t._v(" "),s("li",[t._v("æ‹¥æœ‰ç¨³å®šå¯é ä¸°å¯Œçš„ç¤¾åŒºå’Œä¸­é—´ä»¶ç”Ÿæ€")]),t._v(" "),s("li",[t._v("æ˜“äºŽå­¦ä¹ ï¼Œå¯å®šåˆ¶ç¨‹åº¦é«˜ï¼Œå¼€ç®±å³ç”¨")]),t._v(" "),s("li",[t._v("ç²¾å·§çš„Expressä¸ºWebå’Œç§»åŠ¨åº”ç”¨ç¨‹åºæä¾›äº†ä¸€ç»„å¼ºå¤§çš„åŠŸèƒ½")])]),t._v(" "),s("h3",{attrs:{id:"_1-5-2-expressçš„èƒ½åŠ›"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-2-expressçš„èƒ½åŠ›"}},[t._v("#")]),t._v(" 1.5.2 Expressçš„èƒ½åŠ›")]),t._v(" "),s("ul",[s("li",[t._v("å°è£…httpæ¨¡å—ï¼Œæ–¹ä¾¿åœ°åˆ›å»ºWebåº”ç”¨")]),t._v(" "),s("li",[t._v("é€šè¿‡ä¸­é—´ä»¶æœºåˆ¶å®žçŽ°å¯æ‰©å±•æ€§")]),t._v(" "),s("li",[t._v("æä¾›è·¯ç”±æœºåˆ¶ï¼Œä¾¿äºŽç»„ç»‡ä¸šåŠ¡åº”ç”¨")]),t._v(" "),s("li",[t._v("æä¾›å¤šç§æ¨¡ç‰ˆå¼•æ“Žï¼Œæ”¯æŒäº†é™æ€æ–‡ä»¶çš„æ¸²æŸ“å’Œæ‰˜ç®¡")]),t._v(" "),s("li",[t._v("ä¾¿äºŽæ·»åŠ é”™è¯¯å¤„ç†ï¼Œæ–¹ä¾¿å¯¹ç³»ç»Ÿè¿›è¡Œå®¹é”™å¤„ç†")]),t._v(" "),s("li",[t._v("ä¾¿äºŽæ·»åŠ æ•°æ®åº“è¿žæŽ¥ï¼Œæ“ä½œæ•°æ®åº“æ•°æ®")])]),t._v(" "),s("h4",{attrs:{id:"expressä¸­é—´ä»¶"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#expressä¸­é—´ä»¶"}},[t._v("#")]),t._v(" Expressä¸­é—´ä»¶")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("è·¯ç”±å’Œä¸­é—´ä»¶æ˜¯Expressçš„åŸºç¡€ï¼Œè·¯ç”±æ˜¯ç‰¹æ®Šçš„ä¸­é—´ä»¶")])]),t._v(" "),s("li",[s("p",[t._v("Expressæ˜¯ä¸€ç³»åˆ—ä¸­é—´ä»¶å‡½æ•°è°ƒç”¨çš„è¿‡ç¨‹")])]),t._v(" "),s("li",[s("p",[t._v("ä¸­é—´ä»¶æ˜¯å¯¹å¤„ç†è¿‡ç¨‹çš„å°è£…ï¼Œè¾“å…¥è¯·æ±‚å¯¹è±¡/å“åº”å¯¹è±¡ï¼Œé€šè¿‡nextè¿›å…¥ä¸‹ä¸€ä¸ªä¸­é—´ä»¶å¤„ç†è¿‡ç¨‹")])]),t._v(" "),s("li",[s("p",[t._v("ä½¿ç”¨app.use()å°†ä¸­é—´ä»¶æ³¨å†Œåˆ°åº”ç”¨å®žä¾‹ä¸Šï¼Œè·¯ç”±ä¸­é—´ä»¶æ³¨å†Œåˆ°è·¯ç”±å®žä¾‹ä¸Š")])])]),t._v(" "),s("p",[s("img",{attrs:{src:a(281),alt:""}})]),t._v(" "),s("h4",{attrs:{id:"ç¼–å†™expressä¸­é—´ä»¶"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç¼–å†™expressä¸­é—´ä»¶"}},[t._v("#")]),t._v(" ç¼–å†™Expressä¸­é—´ä»¶")]),t._v(" "),s("p",[s("img",{attrs:{src:a(282),alt:""}})]),t._v(" "),s("h4",{attrs:{id:"express-è·¯ç”±æœºåˆ¶"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#express-è·¯ç”±æœºåˆ¶"}},[t._v("#")]),t._v(" Express è·¯ç”±æœºåˆ¶")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("è·¯ç”±æ˜¯ä¸€æ®µExpressä»£ç ï¼Œå®ƒå°†httpåŠ¨è¯ã€URLè·¯å¾„/æ¨¡å¼å’Œå¤„ç†å‡½æ•°ä¸‰è€…å…³è”èµ·æ¥")])]),t._v(" "),s("li",[s("p",[t._v("Expressçš„åº”ç”¨ç¨‹åºè®¾è®¡è¦ä»Žè·¯ç”±è®¾è®¡å…¥æ‰‹ï¼Œå°†æœåŠ¡çš„èƒ½åŠ›æè¿°èµ·æ¥")])]),t._v(" "),s("li",[s("p",[t._v("è¿˜å¯ä»¥ä½¿ç”¨Routerä¸­é—´ä»¶ï¼Œå®žçŽ°è·¯ç”±é€»è¾‘æ¨¡å—åŒ–è®¾è®¡")])])]),t._v(" "),s("p",[s("img",{attrs:{src:a(283),alt:""}})]),t._v(" "),s("h4",{attrs:{id:"express-æ€§èƒ½è¯„ä¼°"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#express-æ€§èƒ½è¯„ä¼°"}},[t._v("#")]),t._v(" Express æ€§èƒ½è¯„ä¼°")]),t._v(" "),s("p",[s("img",{attrs:{src:a(284),alt:""}})]),t._v(" "),s("h4",{attrs:{id:"express-æœ€ä½³å®žè·µ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#express-æœ€ä½³å®žè·µ"}},[t._v("#")]),t._v(" Express æœ€ä½³å®žè·µ")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("ä½¿ç”¨ä¸­é—´ä»¶åŽ‹ç¼©å“åº”æ•°æ®ï¼Œåœ¨åå‘ä»£ç†å±‚åšæœ€ä½³")])]),t._v(" "),s("li",[s("p",[t._v("é¿å…åœ¨ä¸šåŠ¡é€»è¾‘å¤„ç†ä¸­ä½¿ç”¨åŒæ­¥é˜»å¡žæ“ä½œ")])]),t._v(" "),s("li",[s("p",[t._v("å¼•å…¥å®Œå–„çš„åŸºå»ºä¿éšœï¼Œè®°å½•æ—¥å¿—ï¼Œå¤„ç†å¼‚å¸¸")])]),t._v(" "),s("li",[s("p",[t._v("éœ€è¦é‡å¯çš„æ—¶å€™ç«‹å³é‡å¯ï¼Œä¿è¯ç¨‹åºå¯ä»¥è‡ªåŠ¨é‡å¯å¯åŠ¨")])])]),t._v(" "),s("h3",{attrs:{id:"_1-5-3-express-web-serverå®žæˆ˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-3-express-web-serverå®žæˆ˜"}},[t._v("#")]),t._v(" 1.5.3 Express Web Serverå®žæˆ˜")]),t._v(" "),s("ul",[s("li",[t._v("å®žçŽ°ä¸€ä¸ªå¯ä»¥ç”Ÿæˆé‚®ä»¶çš„æ¨¡ç‰ˆç®¡ç†ç³»ç»Ÿ")]),t._v(" "),s("li",[t._v("æœ‰é…ç½®ç•Œé¢ï¼Œå¯ä»¥æ²‰æ·€ä¸šåŠ¡åŸŸä¸­çš„é‚®ä»¶æ¨¡ç‰ˆï¼Œå¯ä»¥æ–°å¢žæ¨¡ç‰ˆ")]),t._v(" "),s("li",[t._v("å¯ä»¥é¢„è§ˆæœ€ç»ˆçš„é‚®ä»¶æ ·å¼")])]),t._v(" "),s("p",[s("img",{attrs:{src:a(285),alt:""}})]),t._v(" "),s("h4",{attrs:{id:"é‚®ä»¶æ¨¡ç‰ˆç³»ç»Ÿ-åŠŸèƒ½è®¾è®¡"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#é‚®ä»¶æ¨¡ç‰ˆç³»ç»Ÿ-åŠŸèƒ½è®¾è®¡"}},[t._v("#")]),t._v(" é‚®ä»¶æ¨¡ç‰ˆç³»ç»Ÿ-åŠŸèƒ½è®¾è®¡")]),t._v(" "),s("p",[s("img",{attrs:{src:a(286),alt:""}})]),t._v(" "),s("h3",{attrs:{id:"_1-5-4æ‰©å±•å­¦ä¹ "}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-4æ‰©å±•å­¦ä¹ "}},[t._v("#")]),t._v(" 1.5.4æ‰©å±•å­¦ä¹ ")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/learn/Server-side/Express_Nodejs/Introduction",target:"_blank",rel:"noopener noreferrer"}},[t._v("MDN ä¸­æä¾›çš„ Express è¯¾ç¨‹"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"https://cythilya.github.io/2014/11/23/nodejs-express-microblog/",target:"_blank",rel:"noopener noreferrer"}},[t._v("ä½¿ç”¨ Node.js + Express æ­å»ºä¸€ä¸ªç®€å•çš„å¾®åšç½‘ç«™"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/56947560",target:"_blank",rel:"noopener noreferrer"}},[t._v("NodeJS expressæ¡†æž¶æ ¸å¿ƒåŽŸç†å…¨æ­ç§˜"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"_1-6-ä½¿ç”¨nodejsç¼–å†™-restful-api"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-6-ä½¿ç”¨nodejsç¼–å†™-restful-api"}},[t._v("#")]),t._v(" 1.6 ä½¿ç”¨Nodejsç¼–å†™ RESTful API")]),t._v(" "),s("h3",{attrs:{id:"_1-6-1-restful-api"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-6-1-restful-api"}},[t._v("#")]),t._v(" 1.6.1 RESTful API")]),t._v(" "),s("p",[t._v("restæ˜¯æš´éœ²æœåŠ¡ç«¯èµ„æºçš„ä¸€ç§çº¦å®šæ–¹å¼ï¼ŒåŒæ—¶æä¾›èŽ·å–è¿™ç§èµ„æºçš„åŠ¨è¯ï¼ŒåŸºäºŽrestæž¶æž„çš„web server apiï¼Œæˆ‘ä»¬å°±ç§°ä¸ºRESTful APIã€‚")]),t._v(" "),s("h4",{attrs:{id:"restæ¦‚å¿µ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#restæ¦‚å¿µ"}},[t._v("#")]),t._v(" RESTæ¦‚å¿µ")]),t._v(" "),s("ul",[s("li",[t._v("URIèµ„æºå®šä½")])]),t._v(" "),s("p",[t._v("RESTæ˜¯é¢å‘èµ„æºï¼Œè€Œèµ„æºé€šè¿‡URIè¿›è¡Œæš´éœ²")]),t._v(" "),s("ul",[s("li",[t._v("é“¾æŽ¥èµ„æºçŠ¶æ€")])]),t._v(" "),s("p",[t._v("æœåŠ¡å™¨ç”ŸæˆåŒ…å«çŠ¶æ€è½¬ç§»çš„è¡¨å¾æ•°æ®ï¼Œç”¨æ¥å“åº”å®¢æˆ·ç«¯å¯¹ä¸€ä¸ªèµ„æºçš„è¯·æ±‚ï¼Œå®¢æˆ·ç«¯å¯æ®æ­¤äº†è§£çŠ¶æ€è½¬ç§»çš„æ–¹å¼")]),t._v(" "),s("ul",[s("li",[t._v("ä½¿ç”¨HTTPå·²æœ‰ç‰¹æ€§")])]),t._v(" "),s("p",[t._v("RESTå¾ˆç”¨åˆ©ç”¨äº†HTTPæœ¬èº«çš„ä¸€äº›ç‰¹æ€§ï¼Œå¦‚HTTTPåŠ¨è¯ã€HTTPçŠ¶æ€ç ã€HTTPå¤´éƒ¨ä¿¡æ¯")]),t._v(" "),s("ul",[s("li",[t._v("ç»Ÿä¸€èµ„æºè§„èŒƒ")])]),t._v(" "),s("p",[t._v("åŒ…å«ä¸€ç»„å—é™çš„é¢„å®šä¹‰çš„æ“ä½œï¼Œèµ„æºéƒ½é€šè¿‡ä½¿ç”¨é¡¹ç›®æŽ¥å£è¿›è¡Œèµ„æºçš„è®¿é—®")]),t._v(" "),s("h4",{attrs:{id:"å……åˆ†åˆ©ç”¨httpæè¿°urièµ„æº"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å……åˆ†åˆ©ç”¨httpæè¿°urièµ„æº"}},[t._v("#")]),t._v(" å……åˆ†åˆ©ç”¨HTTPæè¿°URIèµ„æº")]),t._v(" "),s("p",[s("img",{attrs:{src:a(287),alt:""}})]),t._v(" "),s("h3",{attrs:{id:"_1-6-2-rest-å·¥ç¨‹å®žè·µ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-6-2-rest-å·¥ç¨‹å®žè·µ"}},[t._v("#")]),t._v(" 1.6.2 REST å·¥ç¨‹å®žè·µ")]),t._v(" "),s("h3",{attrs:{id:"rest-æŽ¥å£è®¾è®¡-è·¯ç”±"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#rest-æŽ¥å£è®¾è®¡-è·¯ç”±"}},[t._v("#")]),t._v(" REST æŽ¥å£è®¾è®¡-è·¯ç”±")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//æŽ¥å£è¦éµå¾ªhttpåŠ¨è¯")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("GET")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("xhr"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("v1"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("templateList "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// èŽ·å–æ¨¡ç‰ˆåˆ—è¡¨")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("GET")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("xhr"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("v1"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("templateDetail"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v("id"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("xx   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ¨¡ç‰ˆå•ä¸ªæ¨¡ç‰ˆè¯¦æƒ…")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("POST")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("xhr"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("v1"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("templateCreate "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ›å»ºæ¨¡ç‰ˆ")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("PUT")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("xhr"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("v1"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("templateChange"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¿®æ”¹æ¨¡ç‰ˆ,")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("DELETE")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("xhr"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("v1"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("templateDelate"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ é™¤æ¨¡ç‰ˆ")]),t._v("\n")])])]),s("h3",{attrs:{id:"æ•°æ®è¡¨è®¾è®¡-å°è£…æ•°æ®æœåŠ¡"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ•°æ®è¡¨è®¾è®¡-å°è£…æ•°æ®æœåŠ¡"}},[t._v("#")]),t._v(" æ•°æ®è¡¨è®¾è®¡-å°è£…æ•°æ®æœåŠ¡")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("é€‰ç”¨MongoDBå­˜å‚¨æ•°æ®")])]),t._v(" "),s("li",[s("p",[t._v("å¼•ç”¨mongooseæž„å»ºæ•°æ®æ¨¡åž‹")])]),t._v(" "),s("li",[s("p",[t._v("é‚®ä»¶æ¨¡ç‰ˆSchema")]),t._v(" "),s("ul",[s("li",[t._v("id String å”¯ä¸€è¯†åˆ«é‚®ä»¶æ¨¡ç‰ˆçš„id")]),t._v(" "),s("li",[t._v("template text å¯æ”¯æŒHTML")]),t._v(" "),s("li",[t._v("data  é‚®ä»¶æ¨¡ç‰ˆä¸­å¡«å……çš„æ•°æ®")])]),t._v(" "),s("h3",{attrs:{id:"_1-6-3-rest-æœ€ä½³å®žè·µ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-6-3-rest-æœ€ä½³å®žè·µ"}},[t._v("#")]),t._v(" 1.6.3 REST æœ€ä½³å®žè·µ")])]),t._v(" "),s("li",[s("p",[t._v("å……åˆ†ç†è§£å¹¶ä½¿ç”¨HTTPè¯·æ±‚")])]),t._v(" "),s("li",[s("p",[t._v("ä½¿ç”¨APIæµ‹è¯•å·¥å…·è€Œéžæµè§ˆå™¨æµ‹è¯•ä½ çš„APIæŽ¥å£")])]),t._v(" "),s("li",[s("p",[t._v("é€‰æ‹©åˆé€‚çš„æ–‡æ¡£ç”Ÿæˆå·¥å…·ï¼Œåˆ é™¤APIæ–‡æ¡£")])]),t._v(" "),s("li",[s("p",[t._v("RESTåªæ˜¯è§„èŒƒå¹¶ä¸å¼ºåˆ¶ï¼Œæœ€åˆé€‚å›¢é˜Ÿçš„æ‰æ˜¯æœ€å¥½çš„")])]),t._v(" "),s("li",[s("p",[t._v("æ‰¾ä¸ªå®žè·µRESTè¾ƒå¥½çš„æ¡†æž¶èƒœè¿‡è‡ªå·±é€ è½®å­")])])]),t._v(" "),s("p",[t._v("ðŸ… å¼€å§‹å®žæˆ˜")]),t._v(" "),s("ol",[s("li",[t._v("é¡¹ç›®ç»“æž„")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v(" â”œâ”€â”€ server    \n â”‚   â”œâ”€â”€  middleware "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# è‡ªå·±å†™çš„ä¸­é—´ä»¶ï¼›å¯ä»¥ç”¨äºŽå¤„ç†ä¸€äº›ä¸šåŠ¡é€»è¾‘")]),t._v("\n â”‚   â”œâ”€â”€  model      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æ•°æ®æ¨¡åž‹ï¼ŒæŽ¥å£çš„æ•°æ®æ¨¡åž‹")]),t._v("\n â”‚   â”œâ”€â”€  routes     "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æŽ¥å£çš„ä¸šåŠ¡ä»£ç ")]),t._v("\n â”‚   â”œâ”€â”€ index.js    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# å…¥å£æ–‡ä»¶")]),t._v("\n â””â”€ package.json     "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ç®¡ç†é¡¹ç›®è¿è¡Œçš„ä¾èµ–ã€åŠæè¿°ä¿¡æ¯                                  ")]),t._v("\n")])])]),s("ol",{attrs:{start:"2"}},[s("li",[t._v("ä¸‹è½½æ‰€éœ€è¦çš„ä¾èµ–")])]),t._v(" "),s("p",[s("code",[t._v("yarn add express mongoose nodemon body-parser")])]),t._v(" "),s("p",[t._v("mongoose ï¼šç®€åŒ–æ“ä½œmongodbçš„åº“")]),t._v(" "),s("p",[t._v("body-parserï¼šå¤„ç†postè¯·æ±‚æ—¶è¿”å›žthunkï¼Œå®ƒä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬åŠ å…¥res.bodyä¸­")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[t._v("ç”¨nodemonå¯åŠ¨é¡¹ç›®ï¼Œå½“æˆ‘ä»¬ä¿å­˜æ—¶ï¼Œnodemonä¼šå¸®åŠ©æˆ‘ä»¬å¯åŠ¨é¡¹ç›®\n"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"scripts"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"dev"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"nodemon server/index.js"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("ol",{attrs:{start:"3"}},[s("li",[t._v("ç¼–å†™å…¥å£æ–‡ä»¶index.js")])]),t._v(" "),s("p",[t._v("ç¼–å†™å…¥å£æ–‡ä»¶ï¼Œéœ€è¦è¿žæŽ¥æ•°æ®åº“ï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨mogodbï¼Œmongodbçš„å®‰è£…æ•™ç¨‹åœ¨æœ¬æ–‡çš„æœ€ä¸‹é¢ï¼Œå½“ç„¶ä¼šmysqlï¼Œä¹Ÿå¯ä»¥ç”¨mysqlã€‚")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" express"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'express'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" bodyParser"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'body-parser'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" mongoose"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mongoose'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" templateRouter"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./routes/template'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" app"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("express")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¿žæŽ¥mongodbï¼Œtempæ˜¯æˆ‘ä»¬æ•°æ®åº“çš„åç§°")]),t._v("\nmongoose"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("connect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mongodb://127.0.0.1:27017/temp'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("useNewUrlParser")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("useUnifiedTopology")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" db"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("mongoose"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("connection\ndb"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'error'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ç›‘å¬é”™è¯¯'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç›‘å¬mogodbæ˜¯å¦è¿žæŽ¥æˆåŠŸ")]),t._v("\ndb"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("once")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'open'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'æ•°æ®åº“è¿žæŽ¥æˆåŠŸ'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æˆ‘ä»¬ç¼–å†™çš„ä¸­é—´ä»¶ï¼Œæä¾›$sucesså’Œ#erroræ¥å¤„ç†è¿”å›žçš„æ•°æ®")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./middleware/index'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("app"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç”¨bodyParserå¤„ç†postè¯·æ±‚ï¼Œå¤„ç†è¿”å›žchunk")]),t._v("\napp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("bodyParser"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("json")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\napp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("bodyParser"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("urlencoded")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("extended")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æˆ‘ä»¬çš„è·¯ç”±å‰ç¼€/xhr/v1/ï¼Œå¦‚æžœåŒ¹é…åœ¨urlä¸­åŒ¹é…åˆ°äº†/xhr/v1/ï¼Œå°±ä¼šè¿›å…¥å­è·¯ç”±templateRouter")]),t._v("\napp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/xhr/v1/'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("templateRouter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å‰é¢éƒ½æ²¡æœ‰åŒ¹é…åˆ°è°ƒç”¨next()å°±ä¼šè¿›å…¥ä¸‹ä¸€ä¸ªä¸­é—´ä»¶")]),t._v("\napp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("next")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" err "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Error")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Not Found'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    err"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("status "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("404")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\napp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("listen")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'server is running on http://localhost:2000'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("ol",{attrs:{start:"4"}},[s("li",[t._v("åœ¨modelä¸­ç¼–å†™æ•°æ®æ¨¡åž‹")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ•°æ®æ¨¡åž‹")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" mongoose"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mongoose'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" templateSchema"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("mongoose"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Schema")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("String"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("template")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("String"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("data")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("String\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//ç¬¬ä¸€ä¸ªå‚æ•° å½“å‰æ¨¡åž‹åç§°ï¼Œç¬¬äºŒä¸ªå‚æ•° schema")]),t._v("\nmodule"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("mongoose"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("model")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'template'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("templateSchema"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])]),s("ol",{attrs:{start:"5"}},[s("li",[t._v("ç¼–å†™å¤„ç†è¿”å›žæ•°æ®çš„ä¸­é—´ä»¶")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¤„ç†é”™è¯¯çš„ä¸­é—´ä»¶")]),t._v("\nmodule"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("exports")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("next")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("$success")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("code"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" _data "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            code\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typeof")]),t._v(" data"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'object'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            _data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("msg"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'sucess'")]),t._v("\n            _data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("data\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            _data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("msg"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("data\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("json")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("_data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("$error")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("code"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("500")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" _data "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            code\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typeof")]),t._v(" data"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'objcet'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            _data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("msg"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'error'")]),t._v("\n            _data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("stringify")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            _data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("msg"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("err\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("json")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("_data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("ol",{attrs:{start:"6"}},[s("li",[t._v("åœ¨routesç¼–å†™ä¸šåŠ¡æŽ¥å£")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è·¯ç”±æ¨¡å—ï¼Œä¸šåŠ¡æ¨¡å—")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" express"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'express'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" router"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("express"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Router")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" Template"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'../model/template'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æŸ¥è¯¢æ¨¡ç‰ˆåˆ—è¡¨")]),t._v("\nrouter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/templateList'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("next")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" temps"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" Template"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sort")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("update_at")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("$success")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("temps"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ›å»ºæ¨¡ç‰ˆ")]),t._v("\nrouter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("post")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/templateCreate'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("next")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" temps "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" Template"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("req"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("$success")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("temps"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æŸ¥è¯¢æ¨¡ç‰ˆè¯¦æƒ…")]),t._v("\nrouter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/templateDetail'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("next")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" id "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("req"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("query\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" temps "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" Template"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("findById")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("_id")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("$success")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("temps"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ›´æ–°æ¨¡ç‰ˆ")]),t._v("\nrouter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("put")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/templateChange/:id'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("next")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" id "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("req"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("params\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" temps "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" Template"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("findByIdAndUpdate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("_id")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("req"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("$success")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("temps"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ é™¤æ¨¡ç‰ˆ")]),t._v("\nrouter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("delete")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/templateDelate/:id'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("next")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" id "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("req"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("params\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" temps "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" Template"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("findByIdAndRemove")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("_id")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("$success")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("temps"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nmodule"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("router\n")])])]),s("ol",{attrs:{start:"7"}},[s("li",[t._v("å…¶å®ƒ")])]),t._v(" "),s("p",[t._v("æµ‹è¯•æŽ¥å£å¯ä»¥ç”¨postman")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[t._v("è¯·æ±‚åˆ›å»ºæ¨¡ç‰ˆæŽ¥å£ç¤ºä¾‹ï¼šhttp"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//localhost:2000/xhr/v1/templateCreate")]),t._v("\nåœ¨headersè¦åŠ å…¥Content-Type"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("application/json\nè¯·æ±‚çš„å‚æ•°ï¼š\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test1"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"template"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<h1>express<h1>"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"data"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("\"{name:'test1'}\"")]),t._v("\n\t\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nè¿”å›žçš„æ•°æ®ï¼Œå…¶ä¸­_idæ˜¯mongodbä¸ºæˆ‘ä»¬åˆ›å»ºçš„\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"code"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"msg"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"sucess"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"data"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"_id"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"5f2c19c81a53ff25e7d94953"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test1"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"template"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<h1>express<h1>"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"data"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("\"{name:'test1'}\"")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"__v"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æºç åœ°å€")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("https")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("github"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("hejialianghe"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Senior"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("FrontEnd"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("tree"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("master"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("examples"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("node"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.6")]),t._v("\n\n")])])]),s("p",[t._v("ðŸ… å®‰è£…mongodb")]),t._v(" "),s("p",[s("font",{attrs:{color:"red"}},[s("strong",[t._v("windowä¸‹å®‰è£…mongodb")])])],1),t._v(" "),s("p",[s("font",{attrs:{color:"blue"}},[t._v(" 1. ä¸‹è½½å®‰è£…")])],1),t._v(" "),s("p",[t._v("ä¼ é€é—¨ï¼šhttps://www.mongodb.com/download-center/community")]),t._v(" "),s("p",[s("font",{attrs:{color:"blue"}},[t._v(" 2. é…ç½®æ•°æ®åº“æ•°æ®å­˜æ”¾ç›®å½•å’Œæ—¥å¿—å­˜æ”¾ç›®å½•")])],1),t._v(" "),s("p",[t._v("ä¾‹å¦‚åœ¨Dç›˜ä¸‹åˆ›å»ºæ•°æ®ç›®å½•")]),t._v(" "),s("p",[t._v("mkdir D:\\data\\db")]),t._v(" "),s("p",[t._v("åˆ›å»ºæ—¥å¿—ç›®å½•")]),t._v(" "),s("p",[t._v("mkdir D:\\data\\log")]),t._v(" "),s("p",[t._v("æ•°æ®å’Œæ—¥å¿—æ”¾å“ªéƒ½å¯ä»¥ï¼Œä¸ä¸€å®šæ˜¯Dç›˜")]),t._v(" "),s("p",[s("font",{attrs:{color:"blue"}},[t._v(" 3. é…ç½®mongod.cfg")])],1),t._v(" "),s("p",[t._v("è¿›å…¥Cç›˜C:\\mongodbç›®å½•ä¸‹åˆ›å»ºmongod.cfgæ–‡ä»¶ï¼Œå¹¶æŠŠä»¥ä¸‹å†…å®¹å¤åˆ¶è¿›åŽ»")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("storage:\n  dbPath:  D:"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("db\n  journal:\n    enabled: "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\nsystemLog:\n  destination: "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v("\n  logAppend: "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n  path:  D:"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("log"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("mongod.log\nnet:\n  port: "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("27017")]),t._v("\n  bindIp: "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æƒé™éªŒè¯,æ˜¯å¦ç”¨å¯†ç è¿žæŽ¥æ•°æ®åº“ï¼Œå¼€å§‹ä¸è¦è®¾ç½®å¯†ç ï¼Œå¦‚æžœè®¾ç½®æƒé™éªŒè¯ï¼Œå°±æŠŠ#åŽ»æŽ‰")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#security:")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#authorization: enabled")]),t._v("\n")])])]),s("p",[s("font",{attrs:{color:"blue"}},[t._v(" 4. å®‰è£…mongodbæœåŠ¡")])],1),t._v(" "),s("p",[t._v("åœ¨C:\\mongodb\\binç›®å½•ä¸‹æ‰“å¼€shellï¼Œå¹¶æ‰§è¡Œä»¥ä¸‹å‘½ä»¤")]),t._v(" "),s("p",[t._v('mongod.exe --config "C:\\mongodb\\mongod.cfg" --install')]),t._v(" "),s("p",[t._v("å¯åŠ¨mongodbæœåŠ¡")]),t._v(" "),s("p",[t._v("net start MongoDB")]),t._v(" "),s("p",[t._v("å¦‚æžœæ‰§è¡ŒæˆåŠŸï¼Œä¼šè¾“å‡ºä»¥ä¸‹ä¿¡æ¯")]),t._v(" "),s("p",[t._v("2015-09-25T15:54:09.212+0800 I CONTROL  Hotfix KB2731284 or later update is notinstalled, will zero-out data files2015-09-25T15:54:09.229+0800 I JOURNAL  [initandlisten] journal dir=c:\\data\\db\\j\nournal2015-09-25T15:54:09.237+0800 I JOURNAL  [initandlisten] recover : no journal fil\nes present, no recovery needed2015-09-25T15:54:09.290+0800 I JOURNAL  [durability] Durability thread started2015-09-25T15:54:09.294+0800 I CONTROL  [initandlisten] MongoDB starting : pid=2488 port=27017 dbpath=c:\\data\\db 64-bit host=WIN-1VONBJOCE882015-09-25T15:54:09.296+0800 I CONTROL  [initandlisten] targetMinOS: Windows 7/W\nindows Server 2008 R22015-09-25T15:54:09.298+0800 I CONTROL  [initandlisten] db version v3.0.6")]),t._v(" "),s("p",[s("font",{attrs:{color:"blue"}},[t._v(" 5. å…¶å®ƒæŒ‡ä»¤")])],1),t._v(" "),s("p",[t._v("net stop MongoDB //å…³é—­MongoDBæœåŠ¡")]),t._v(" "),s("p",[t._v("mongod.exe --remove  //ç§»é™¤ MongoDB æœåŠ¡ï¼Œè¦åœ¨C:\\mongodb\\binç›®å½•ä¸‹æ‰“å¼€shelæ‰§è¡Œè¯¥å‘½ä»¤æˆ–ç‚¹å‡»mongo.exe")]),t._v(" "),s("p",[t._v("mongo.exe //è¿›å…¥mongodbç®¡ç†åŽå°ï¼Œè¦åœ¨C:\\mongodb\\binç›®å½•ä¸‹æ‰“å¼€shellæ‰§è¡Œè¯¥å‘½ä»¤æˆ–ç‚¹å‡»mongo.exe")]),t._v(" "),s("p",[s("font",{attrs:{color:"blue"}},[t._v(" 6. windowç‰ˆæ•°æ®åº“ç®¡ç†å·¥å…·navicatmongodb")])],1),t._v(" "),s("p",[t._v("é“¾æŽ¥: https://pan.baidu.com/s/14NYuD-rkG7p4YsX3UZgBOA æå–ç : xeah")]),t._v(" "),s("p",[s("font",{attrs:{color:"red"}},[s("strong",[t._v("macä¸‹å®‰è£…mongodbï¼ˆlinuxä¸ŠåŒç†ï¼‰")])])],1),t._v(" "),s("p",[s("font",{attrs:{color:"blue"}},[t._v(" 1. macä¸‹å®‰è£…mongodb")])],1),t._v(" "),s("p",[t._v("æ‰‹åŠ¨å®‰è£…")]),t._v(" "),s("p",[t._v("ä¼ é€é—¨ï¼šhttps://www.mongodb.com/download-center/community")]),t._v(" "),s("p",[t._v("1.æ‰“å¼€finderæŒ‰shift+command+g è¾“å…¥/usr/local è¿›å…¥è¿™ä¸ªç›®å½•ä¸‹")]),t._v(" "),s("p",[t._v("2.åœ¨/usr/localä¸‹åˆ›å»ºmongodbæ–‡ä»¶å¤¹")]),t._v(" "),s("p",[t._v("3.æŠŠä¸‹è½½å¥½çš„åŒ…æ‹–å…¥/usr/local/mongodbç›®å½•ä¸‹")]),t._v(" "),s("p",[t._v("4æ‰“å¼€å‘½ä»¤è¡Œè¾“å…¥cd /usr/local/mongodb")]),t._v(" "),s("p",[t._v("5.è§£åŽ‹")]),t._v(" "),s("p",[t._v("sudo tar zxvf mongodb-linux-x86_64-rhel70-4.2.0.tgz //è§£åŽ‹ï¼Œæ‰‹åŠ¨ç‚¹å‡»ä¹Ÿå¯ä»¥")]),t._v(" "),s("p",[t._v("6.ä¿®æ”¹æ–‡ä»¶å")]),t._v(" "),s("p",[t._v("sudo mv mongodb-linux-x86_64-rhel70-4.2.0 mongodbserver  //ä¿®æ”¹æ–‡ä»¶åï¼Œæ‰‹åŠ¨ä¿®æ”¹ä¹Ÿå¯ä»¥")]),t._v(" "),s("p",[s("font",{attrs:{color:"blue"}},[t._v(" 2. åˆ›å»ºdataå’Œlog")])],1),t._v(" "),s("p",[t._v("sudo mkdir data  //åˆ›å»ºdataæ–‡ä»¶")]),t._v(" "),s("p",[t._v("sudo mkdir log  //åˆ›å»ºlogæ–‡ä»¶")]),t._v(" "),s("p",[s("font",{attrs:{color:"blue"}},[t._v(" 3. åœ¨/usr/local/mongodb/ç›®å½•ä¸‹åˆ›å»ºé…ç½®æ–‡ä»¶mongod.conf")])],1),t._v(" "),s("p",[t._v("1.vim  /usr/local/mongodb/mongod.conf //ç¼–è¾‘æ–‡ä»¶ï¼Œå‘½ä»¤è¡Œä¸­æ‰§è¡Œ")]),t._v(" "),s("p",[t._v("2.è¾“å…¥i è¿›å…¥è¾“å…¥æ¨¡å¼")]),t._v(" "),s("p",[t._v("3.æŠŠä»¥ä¸‹å†…å®¹å¤åˆ¶åˆ°mongod.confæ–‡ä»¶é‡Œ")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("  "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("dbpath")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/usr/local/mongodb/data/  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#æ•°æ®å­˜æ”¾è·¯å¾„ ")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("logpath")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/usr/local/mongodb/log/mongodb.log "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#æ—¥å¿—å­˜æ”¾è·¯å¾„")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("fork")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("true "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#åŽå°è¿è¡Œ bind_ip=0.0.0.0 #å…è®¸ä»»ä½•IPè¿›è¡Œè¿žæŽ¥ ")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("auth")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("false "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#trueæ˜¯è¦è¿›è¡Œå¯†ç éªŒè¯è¿žæŽ¥æ•°æ®åº“ï¼Œfalseä¸éœ€è¦")]),t._v("\n")])])]),s("p",[t._v("4.æŒ‰esc è¿›å…¥ç¼–è¾‘")]),t._v(" "),s("p",[t._v("5.æŒ‰ ï¼šè¿›å…¥æœ«å°¾")]),t._v(" "),s("p",[t._v("6.æŒ‰ wq è¿›è¡Œä¿å­˜å¹¶é€€å‡º")]),t._v(" "),s("p",[s("font",{attrs:{color:"blue"}},[t._v(" 4. é…ç½®å…¨å±€çŽ¯å¢ƒå˜é‡")])],1),t._v(" "),s("p",[t._v("1.vim /etc/profile //è¿›å…¥ç¼–è¾‘profileæ¨¡å¼ï¼Œå‘½ä»¤è¡Œä¸­æ‰§è¡Œ")]),t._v(" "),s("p",[t._v("2.æŠŠä»¥ä¸‹å†…å®¹å¤åˆ¶åˆ°profileä¸­")]),t._v(" "),s("p",[t._v("export PATH=$PATH:/usr/local/mongodb/mongodbserver/bin")]),t._v(" "),s("p",[t._v("3.æŒ‰esc è¿›å…¥ç¼–è¾‘,.æŒ‰ ï¼šè¿›å…¥æœ«å°¾,æŒ‰ wq è¿›è¡Œä¿å­˜å¹¶é€€å‡º")]),t._v(" "),s("p",[t._v("4.source /etc/profile //é‡æ–°åŠ è½½,å‘½ä»¤è¡Œä¸­æ‰§è¡Œ")]),t._v(" "),s("p",[s("font",{attrs:{color:"blue"}},[t._v(" 5. å¯åŠ¨mongodb")])],1),t._v(" "),s("p",[t._v("mongod --config /usr/local/mongodb/mongod.conf //å‘½ä»¤è¡Œä¸­è¿è¡Œ")]),t._v(" "),s("p",[t._v("æ˜¾ç¤ºï¼šchild process started sucessfullyï¼Œparent exiting è¯´æ˜Žè¿è¡ŒæˆåŠŸ")]),t._v(" "),s("p",[t._v("æŸ¥çœ‹mongodbæ˜¯å¦å¯åŠ¨æˆåŠŸ")]),t._v(" "),s("p",[t._v("ps -ef | grep mongodb")]),t._v(" "),s("p",[t._v("ps -axu |grep mongo  èŽ·å–è¿›ç¨‹å·")]),t._v(" "),s("p",[s("font",{attrs:{color:"blue"}},[t._v(" 6. åˆ›å»ºæ•°æ®åº“")])],1),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("mongo "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# è¿žæŽ¥æ•°æ®åº“")]),t._v("\nuse temp "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#tempå°±æ˜¯æˆ‘ä»¬åˆ›å»ºçš„æ•°æ®åº“ï¼Œç”¨show dbs æŸ¥çœ‹æ•°æ®åº“æ˜¯ä¸æ˜¾ç¤ºçš„ï¼Œå› ä¸ºé‡Œé¢æ²¡æœ‰æ•°æ®")]),t._v("\n")])])]),s("p",[s("font",{attrs:{color:"blue"}},[t._v(" 7. å…¶ä»–æŒ‡ä»¤")])],1),t._v(" "),s("p",[t._v("mongorestore -h 127.0.0.1:27017 -d testdata --drop /home/data/  // å¯¼å…¥æ•°æ®ï¼Œtestdataæ˜¯æ•°æ®åº“çš„åç§°ï¼Œ/home/data/æ˜¯è€æ•°æ®å­˜æ”¾åœ°å€")]),t._v(" "),s("p",[t._v("mongod --shutdown --dbpath  /usr/local/mongodb/data/ //å…³æŽ‰æœåŠ¡")]),t._v(" "),s("p",[t._v("æ•°æ®åº“ç”¨æˆ·åŠæƒé™ç®¡ç†")]),t._v(" "),s("p",[t._v("æç¤ºï¼šå¦‚æžœæƒ³è¿›è¡Œè´¦å·å¯†ç è¿žæŽ¥æ•°æ®åº“ï¼Œè¯·çœ‹1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ,5è®¾ç½®å¯†ç åŽè¯·ä¿®æ”¹")]),t._v(" "),s("p",[t._v("mongodb.conf é‡Œçš„é…ç½®é¡¹auth=true")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mongo "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//å‘½ä»¤è¡Œè¾“å…¥")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("use admin "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//è¿›å…¥admin")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("db"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createUser")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("user")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"xxx"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("pwd")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"xxx"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("roles")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("role")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"userAdminAnyDatabase"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("db")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"admin"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//åˆ›å»ºè¶…çº§ç®¡ç†å‘˜")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("use testdata "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//è¿›å…¥testdataæ•°æ®åº“")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("db"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createUser")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("user")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"xxx"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("pwd")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"xxx"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("roles")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("role")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"readWrite"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("db")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"testdata"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//å»ºç«‹testdataæ•°æ®åº“ç®¡ç†å‘˜")]),t._v("\n\ndb"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("auth")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"xxx"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"xxx"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//åˆ›å»ºå®ŒæˆåŽå¯ä»¥è¿›è¡Œç®¡ç†å‘˜éªŒè¯ï¼Œçœ‹æ˜¯å¦è®¾ç½®æˆåŠŸ")]),t._v("\n\ndb"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("changeUserPassword")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"xxx"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"xxxx"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//ä¿®æ”¹ç”¨æˆ·å¯†ç ")]),t._v("\n")])])]),s("p",[t._v("show users //æŸ¥çœ‹å·²æœ‰ç”¨æˆ·")]),t._v(" "),s("p",[t._v("show dbs  //æŸ¥è¯¢æ•°æ®åº“åˆ—è¡¨")]),t._v(" "),s("p",[s("font",{attrs:{color:"blue"}},[t._v(" 8. macä¸‹æ•°æ®åº“ç®¡ç†å·¥å…·Robo")])],1),t._v(" "),s("p",[t._v("ä¼ é€é—¨ï¼šhttps://robomongo.org/download")])])}),[],!1,null,null,null);s.default=e.exports}}]);